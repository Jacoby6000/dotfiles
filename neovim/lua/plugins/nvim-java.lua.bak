local MapUtil = require("lib.map_util")
return {
    "nvim-java/nvim-java",
    -- ft = { "java", "xml", "gradle" },
    -- lazy = true,
    dependencies = {
      "nvim-java/lua-async-await",
      "nvim-java/nvim-java-core",
      "nvim-java/nvim-java-test",
      "nvim-java/nvim-java-dap",
      "nvim-java/nvim-java-refactor",
      "MunifTanjim/nui.nvim",
      "neovim/nvim-lspconfig",
      "mfussenegger/nvim-dap",
      {
        "williamboman/mason.nvim",
        opts = {
          registries = {
            "github:nvim-java/mason-registry",
            "github:mason-org/mason-registry",
          },
        },
      },
    },
    config = function()
      local java = require("java")
      java.setup()
      require("lspconfig").jdtls.setup({})

      MapUtil.nnoremap("<leader>tc", "(t)est current (c)lass", java.test.run_current_class)
      MapUtil.nnoremap("<leader>tm", "(t)est current (m)ethod", java.test.run_current_method)
      MapUtil.nnoremap("<leader>tr", "(t)est (r)eport view", java.test.view_last_report)
    end,
  })
